<div id="messages"></div>
<script>
  function getHtml(file){
    return new Promise((resolve) => {
      fetch(file)
        .then((response) => {
          return response.text();
        })
        .then((html) => {
          resolve(html);
        });
    });
  }
  
  var messages=getHtml("http://server.mydiscussion.net/");
  var messagejson={};
  var lines = messages.split('\n');
  for(var i=0;i<lines.length;i++){
      messagejson.push(lines[i]);
  }
  alert(messagejson);
</script>
